{% extends './pagesbase.html' %}
{% load static %}
{% load i18n %}

{% block bannertitle %}
{{ property.title }}
{% endblock %}
{% block bannertext %}
{{ property.description }}
{% endblock %}
{% block section %}

<section class="mt-5">
    <section class="container">
        <div class="row g-5">
            <div class="col-12 col-lg-7">
                <!-- Swiper Container -->
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        {% if property.video %}
                        <div class="swiper-slide">
                            <video width="100%" controls>
                                <source src="{{ property.video.url }}" type="video/mp4">
                            </video>
                        </div>
                        {% else %}
                        <div class="swiper-slide">
                            <img class="img-fluid zoomable" src="{{ property.cover_photo.url }}" alt="Cover Photo" onclick="showZoomModal(this)">
                        </div>
                        {% endif %}

                        {% for photo in property.photos.all %}
                        <div class="swiper-slide">
                            <img class="img-fluid zoomable" src="{{ photo.image.url }}" alt="Photo {{ forloop.counter }}" onclick="showZoomModal(this)">
                        </div>
                        {% endfor %}
                    </div>

                    <!-- Add Pagination -->
                    <div class="swiper-pagination"></div>

                    <!-- Add Navigation -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
            <div class="col-12 col-lg-5">
                <div class="pb-3">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <p class="small fw-bolder text-uppercase tracking-wider text-muted mb-0 lh-1">{{property.property_type}}</p>
                    </div>
                    <h1 class="mb-2 fs-2 fw-bold">{{ property.title }}</h1>
                    <div class="d-flex justify-content-start align-items-center">
                        <p class="lead fw-bolder m-0 fs-3 lh-1 text-danger me-2">{{property.price}} DZD</p>
                    </div>
                    <div class="d-flex justify-content-start mt-3">
                        <div class="alert bg-light rounded py-1 px-2 d-table m-0">
                            <div class="d-flex justify-content-start align-items-center">
                                <i class="ri-fire-fill lh-1 text-orange"></i>
                                <div class="ms-2">
                                    <small class="opacity-75 fw-bolder lh-1">{{property.views}} views </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="border-top mt-4 mb-3">
                        <div class="product-option mb-4 mt-4">
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Advert Type' %} : <span class=" fw-bold">{{property.advert_type}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Property type' %} : <span class=" fw-bold">{{property.property_type}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Wilaya' %} : <span class=" fw-bold">{{property.wilaya.name_ascii}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Daira' %} : <span class=" fw-bold">{{property.daira.name_ascii}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Commune' %} : <span class=" fw-bold">{{property.commune.name_ascii}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Postal code' %} : <span class=" fw-bold">{{property.postal_code}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Street address' %} : <span class=" fw-bold">{{property.street_address}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Plot area' %} : <span class=" fw-bold">{{property.plot_area}} </span><span class="text-lowercase">m²</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Total floors' %} : <span class=" fw-bold">{{property.total_floors}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Bedrooms' %} : <span class=" fw-bold">{{property.bedrooms}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Bathrooms' %} : <span class=" fw-bold">{{property.bathrooms}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Tax' %} : <span class=" fw-bold">{{property.tax}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Amenities' %} : <span class=" fw-bold">{{property.amenities}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Property status' %} : <span class=" fw-bold">{{property.property_status}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Neighborhood information' %} : <span class=" fw-bold">{{property.neighborhood_info}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Legal status' %} : <span class=" fw-bold">{{property.legal_status}}</span>
                            </small>
                            <small class="text-uppercase d-block fw-bolder mb-2">
                                {% trans 'Payment options' %} : <span class=" fw-bold">{{property.payment_options}}</span>
                            </small>
                        </div>
                        <div class="d-flex justify-content-between mt-3">
                            <button class="btn btn-dark btn-dark-chunky flex-grow-1 me-2 text-white disable-child-pointer" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCart" aria-controls="offcanvasCart">{% trans 'Contact Agent' %}</button>
                            <button class="btn btn-orange btn-orange-chunky"><i class="ri-heart-line"></i></button>
                        </div>
                        <div class="my-4">
                            <div class="d-flex justify-content-start align-items-center">
                                <p class="fw-bolder lh-1 mb-0 me-3">{% trans 'reseau' %}</p>
                                <ul class="list-unstyled p-0 m-0 d-flex justify-content-start lh-1 align-items-center mt-1">
                                    <li class="me-2"><a class="text-decoration-none" href="#" role="button"><i class="ri-facebook-box-fill"></i></a></li>
                                    <li class="me-2"><a class="text-decoration-none" href="#" role="button"><i class="ri-instagram-fill"></i></a></li>
                                    <li class="me-2"><a class="text-decoration-none" href="#" role="button"><i class="ri-pinterest-fill"></i></a></li>
                                    <li class="me-2"><a class="text-decoration-none" href="#" role="button"><i class="ri-twitter-fill"></i></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</section>
<!-- Homepage Intro-->
<section class="position-relative my-5 my-md-7 my-lg-9 bg-dark text-white aos-init aos-animate" data-aos="fade-in">
    <!-- SVG Shape Divider -->
    <div class="position-absolute z-index-50 top-0 end-0 start-0">
        <svg class="align-self-start d-flex w-100" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1283 53.25">
            <polygon fill="currentColor" points="1283 0 0 0 0 53.25 1283 0"></polygon>
        </svg>
    </div>
    <!-- /SVG Shape Divider -->

    <div class="py-7 py-lg-10">
        <div class="container text-white py-4 py-md-6">
            <div class="text-center mb-5">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/77/Flag_of_Algeria.svg/320px-Flag_of_Algeria.svg.png" alt="{% trans 'Drapeau Algérien' %}" style="max-width: 100px;">
                <h2 class="fw-bold mt-3">{% trans 'Agence Immobilière Algérienne Agréée par l\'État' %}</h2>
            </div>

            <div class="row g-5 align-items-start">
                <div class="col-12 col-md-4">
                    <h3 class="fs-1 fw-bold mb-4"><i class="ri-home-4-line align-bottom"></i> {% trans 'Nos Services' %}</h3>
                    <ul class="list-unstyled">
                        <li class="mb-2"><strong>{% trans 'Vente de Biens Immobiliers' %}</strong>
                            <ul>
                                <li>{% trans 'Maisons' %}</li>
                                <li>{% trans 'Appartements' %}</li>
                                <li>{% trans 'Terrains' %}</li>
                            </ul>
                        </li>
                        <li class="mb-2"><strong>{% trans 'Location de Biens Immobiliers' %}</strong>
                            <ul>
                                <li>{% trans 'Locations à court terme' %}</li>
                                <li>{% trans 'Locations à long terme' %}</li>
                            </ul>
                        </li>
                        <li class="mb-2"><strong>{% trans 'Gestion Immobilière' %}</strong>
                            <ul>
                                <li>{% trans 'Administration de biens' %}</li>
                                <li>{% trans 'Gestion locative' %}</li>
                            </ul>
                        </li>
                        <li class="mb-2"><strong>{% trans 'Conseil et Accompagnement' %}</strong>
                            <ul>
                                <li>{% trans 'Évaluation immobilière' %}</li>
                                <li>{% trans 'Conseils juridiques' %}</li>
                                <li>{% trans 'Accompagnement personnalisé' %}</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <div class="col-12 col-md-4">
                    <h3 class="fs-1 fw-bold mb-4"><i class="ri-hand-heart-line align-bottom"></i> {% trans 'Nos Engagements' %}</h3>
                    <ul class="list-unstyled">
                        <li class="mb-3"><strong>{% trans 'Professionnalisme:' %}</strong> {% trans 'Nous assurons un service de haute qualité avec des agents qualifiés et compétents.' %}</li>
                        <li class="mb-3"><strong>{% trans 'Transparence:' %}</strong> {% trans 'Toutes nos transactions sont effectuées en toute transparence, conformément aux lois en vigueur.' %}</li>
                        <li class="mb-3"><strong>{% trans 'Satisfaction Client:' %}</strong> {% trans 'Votre satisfaction est notre priorité. Nous mettons tout en œuvre pour répondre à vos attentes et besoins.' %}</li>
                    </ul>
                </div>

                <div class="col-12 col-md-4">
                    <h3 class="fs-1 fw-bold mb-4"><i class="ri-contacts-line align-bottom"></i> {% trans 'Contactez-Nous' %}</h3>
                    <p class="mb-2"><strong>{% trans 'Adresse:' %}</strong> [Votre adresse ici]</p>
                    <p class="mb-2"><strong>{% trans 'Téléphone:' %}</strong> [Votre numéro de téléphone ici]</p>
                    <p class="mb-2"><strong>{% trans 'Email:' %}</strong> [Votre email ici]</p>
                    <p class="mb-2"><strong>{% trans 'Site Web:' %}</strong> [Votre site web ici]</p>
                </div>
            </div>
        </div>
    </div>

    <!-- SVG Shape Divider -->
    <div class="position-absolute z-index-50 text-white bottom-0 start-0 end-0">
        <svg class="align-self-end d-flex w-100" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1283 53.25">
            <polygon fill="currentColor" points="0 53.25 1283 53.25 1283 0 0 53.25"></polygon>
        </svg>
    </div>
    <!-- /SVG Shape Divider -->
</section>
<!-- / Main Section-->
<!-- Zoom Modal -->
<div class="modal fade" id="zoomModal" tabindex="-1" aria-labelledby="zoomModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-body">
                <img id="zoomedImage" class="img-fluid" src="" alt="Zoomed Image">
            </div>
        </div>
    </div>
</div>

{% endblock %}

{% block scripts %}
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- Swiper JS -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const swiper = new Swiper('.swiper-container', {
            slidesPerView: 1,
            spaceBetween: 10,
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
        });
    });

    function showZoomModal(image) {
        const zoomedImage = document.getElementById('zoomedImage');
        zoomedImage.src = image.src;
        const bootstrapModal = new bootstrap.Modal(document.getElementById('zoomModal'));
        bootstrapModal.show();
    }
</script>
{% endblock %}
